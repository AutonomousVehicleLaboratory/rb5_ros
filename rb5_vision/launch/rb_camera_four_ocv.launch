<launch>
  <arg name="camera_lepton_id" default="8" />
  <arg name="camera_arducam_id" default="10" />

  <arg name="camera_id0" default="0" /> <!-- 0 for main camera, 1 for tracking camera and 2 for webcames. -->
  <arg name="frame_rate0" default="30" />
  <arg name="width0" default="1920" />
  <arg name="height0" default="1080" />
  <arg name="input_format0" default="NV12" /> <!-- format for the input stream from camera -->
  <arg name="output_format0" default="RGB" /> <!-- format for the output stream -->
  <arg name="image_compress0" default="true" /> 
  
  <arg name="camera_id1" default="1" /> <!-- 0 for main camera, 1 for tracking camera and 2 for webcames. -->
  <arg name="frame_rate1" default="30" />
  <arg name="width1" default="1280" />
  <arg name="height1" default="720" />
  <arg name="input_format1" default="NV12" /> <!-- format for the input stream from camera -->
  <arg name="output_format1" default="RGB" /> <!-- format for the output stream -->
  <arg name="image_compress1" default="true" /> 
  
  <arg name="topic_name0" default="rb5_main/image_raw" />
  <arg name="topic_name1" default="rb5_side/image_raw" />

  <node pkg="rb5_vision" type="rb5_vision" name="rb5_vision_$(arg camera_id0)" respawn="true" output="screen">
    <param name="camera_id" value="$(arg camera_id0)" />
    <param name="frame_rate" value="$(arg frame_rate0)" />
    <param name="width" value="$(arg width0)" />
    <param name="height" value="$(arg height0)" />
    <param name="input_format" value="$(arg input_format0)" />
    <param name="output_format" value="$(arg output_format0)" />
    <param name="topic_name" value="$(arg topic_name0)" />
    <param name="image_compress" value="$(arg image_compress0)" />
  </node>

  <node pkg="rb5_vision" type="rb5_vision" name="rb5_vision_$(arg camera_id1)" respawn="true" output="screen">
    <param name="camera_id" value="$(arg camera_id1)" />
    <param name="frame_rate" value="$(arg frame_rate1)" />
    <param name="width" value="$(arg width1)" />
    <param name="height" value="$(arg height1)" />
    <param name="input_format" value="$(arg input_format1)" />
    <param name="output_format" value="$(arg output_format1)" />
    <param name="topic_name" value="$(arg topic_name1)" />
    <param name="image_compress" value="$(arg image_compress1)" />
  </node>

  <include file="$(find rb5_vision)/launch/rb_camera_lepton_ocv.launch">
    <arg name="camera_id" value="$(arg camera_lepton_id)" />
  </include>
  
  <include file="$(find rb5_vision)/launch/rb_camera_arducam_ocv.launch">
    <arg name="camera_id" value="$(arg camera_arducam_id)" />
  </include>
  
  <param name="/camera/depth/image_rect_raw/compressedDepth/png_level" value="1" />

  <include file="$(find realsense2_camera)/launch/rs_rgbd.launch" />

</launch>
